{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kesav\\\\Downloads\\\\TheShoeShop-main\\\\TheShoeShop-main\\\\frontend\\\\src\\\\components\\\\Products\\\\ProductID\\\\AddFavorite.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { makeStyles, Button, Popover } from \"@material-ui/core\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nconst useStyles = makeStyles({\n  favbtn: {\n    color: \"#ffc107\",\n    border: \"1px solid #eeeeee\",\n    height: \"100%\",\n    marginLeft: \"5px\",\n    backgroundColor: \"white\",\n    \"&:hover\": {\n      backgroundColor: \"#ffc107\",\n      color: \"white\"\n    }\n  }\n});\n\nconst AddFavorite = ({\n  product,\n  state\n}) => {\n  _s();\n\n  const [disable, setDisable] = useState(false);\n  const classes = useStyles();\n\n  const addToFavorites = () => {\n    axios.put(` https://lit-thicket-99427.herokuapp.com/api/user/addfavorites`, {\n      item: product.id\n    }, {\n      headers: {\n        auth_token: `${localStorage.getItem(\"UserToken\")}`\n      }\n    }).then(res => {\n      if (res.status === 400) {\n        console.log(\"err\");\n        setDisable(false);\n      } else {\n        setDisable(true);\n      }\n    }).catch(error => {\n      setDisable(false); //   setError(error.response.request.response);\n    });\n  };\n\n  useEffect(() => {\n    axios.get(` https://lit-thicket-99427.herokuapp.com/api/user/userfavs`, {\n      headers: {\n        auth_token: `${localStorage.getItem(\"UserToken\")}`\n      }\n    }).then(res => {\n      if (res.status === 401) {\n        console.log(\"err\");\n      } else {\n        const findFav = res.data.find(el => el === product.id);\n\n        if (findFav) {\n          setDisable(true);\n        } else {\n          setDisable(false);\n        }\n      }\n    }).catch(error => {\n      setDisable(true);\n      console.log(error.response.request.response); //   setError(error.response.request.response);\n    });\n  }, [state.user, product.id]);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      \"aria-describedby\": id,\n      className: classes.favbtn // disabled={state.user.name === null}\n      // onClick={addToFavorites}\n      ,\n      onClick: state.user.name === null || disable ? handleClick : addToFavorites,\n      children: state.user.name === null || disable ? /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n        style: {\n          color: \"#ff5722\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popover, {\n      id: id,\n      open: open,\n      anchorEl: anchorEl,\n      onClose: handleClose,\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"center\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          padding: \"10px\",\n          color: \"red\"\n        },\n        children: state.user.name === null ? \"Please log in to use this function\" : \"  Already added in to your wishlist.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddFavorite, \"hdgMygomZwETnZz9n4QF3sdfO2k=\", false, function () {\n  return [useStyles];\n});\n\n_c = AddFavorite;\nexport default AddFavorite;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddFavorite\");","map":{"version":3,"sources":["C:/Users/kesav/Downloads/TheShoeShop-main/TheShoeShop-main/frontend/src/components/Products/ProductID/AddFavorite.js"],"names":["React","useEffect","useState","axios","makeStyles","Button","Popover","FavoriteBorderIcon","FavoriteIcon","useStyles","favbtn","color","border","height","marginLeft","backgroundColor","AddFavorite","product","state","disable","setDisable","classes","addToFavorites","put","item","id","headers","auth_token","localStorage","getItem","then","res","status","console","log","catch","error","get","findFav","data","find","el","response","request","user","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","open","Boolean","undefined","name","vertical","horizontal","padding"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { makeStyles, Button, Popover } from \"@material-ui/core\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\n\nconst useStyles = makeStyles({\n  favbtn: {\n    color: \"#ffc107\",\n    border: \"1px solid #eeeeee\",\n    height: \"100%\",\n    marginLeft: \"5px\",\n    backgroundColor: \"white\",\n\n    \"&:hover\": {\n      backgroundColor: \"#ffc107\",\n      color: \"white\",\n    },\n  },\n});\nconst AddFavorite = ({ product, state }) => {\n  const [disable, setDisable] = useState(false);\n  const classes = useStyles();\n\n  const addToFavorites = () => {\n    axios\n      .put(\n        ` https://lit-thicket-99427.herokuapp.com/api/user/addfavorites`,\n\n        { item: product.id },\n        {\n          headers: { auth_token: `${localStorage.getItem(\"UserToken\")}` },\n        }\n      )\n\n      .then((res) => {\n        if (res.status === 400) {\n          console.log(\"err\");\n          setDisable(false);\n        } else {\n          setDisable(true);\n        }\n      })\n      .catch((error) => {\n        setDisable(false);\n        //   setError(error.response.request.response);\n      });\n  };\n\n  useEffect(() => {\n    axios\n      .get(\n        ` https://lit-thicket-99427.herokuapp.com/api/user/userfavs`,\n\n        {\n          headers: { auth_token: `${localStorage.getItem(\"UserToken\")}` },\n        }\n      )\n\n      .then((res) => {\n        if (res.status === 401) {\n          console.log(\"err\");\n        } else {\n          const findFav = res.data.find((el) => el === product.id);\n          if (findFav) {\n            setDisable(true);\n          } else {\n            setDisable(false);\n          }\n        }\n      })\n      .catch((error) => {\n        setDisable(true);\n        console.log(error.response.request.response);\n        //   setError(error.response.request.response);\n      });\n  }, [state.user, product.id]);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n  return (\n    <div>\n      <Button\n        aria-describedby={id}\n        className={classes.favbtn}\n        // disabled={state.user.name === null}\n        // onClick={addToFavorites}\n        onClick={\n          state.user.name === null || disable ? handleClick : addToFavorites\n        }\n      >\n        {state.user.name === null || disable ? (\n          <FavoriteIcon style={{ color: \"#ff5722\" }} />\n        ) : (\n          <FavoriteBorderIcon />\n        )}\n      </Button>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <p style={{ padding: \"10px\", color: \"red\" }}>\n          {state.user.name === null\n            ? \"Please log in to use this function\"\n            : \"  Already added in to your wishlist.\"}\n        </p>\n      </Popover>\n    </div>\n  );\n};\n\nexport default AddFavorite;\n"]},"metadata":{},"sourceType":"module"}