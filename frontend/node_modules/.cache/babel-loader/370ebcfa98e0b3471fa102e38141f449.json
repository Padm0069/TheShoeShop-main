{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kesav\\\\Downloads\\\\TheShoeShop-main\\\\TheShoeShop-main\\\\frontend\\\\src\\\\Context\\\\Context.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useReducer, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { shopReducer } from \"./reducers\";\nimport { FETCH_PRODUCT, REFRESH_CART, FETCH_ADRESS } from \"./reducers\";\nexport const MyContext = /*#__PURE__*/createContext();\nexport const Context = props => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [state, dispatch] = useReducer(shopReducer, {\n    cart: [],\n    token: localStorage.getItem(\"UserToken\"),\n    user: {\n      name: localStorage.getItem(\"User\"),\n      id: localStorage.getItem(\"UserID\"),\n      adress: null\n    },\n    products: []\n  });\n  useEffect(() => {\n    dispatch({\n      type: REFRESH_CART,\n      cart: JSON.parse(localStorage.getItem(\"cart\"))\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(` https://lit-thicket-99427.herokuapp.com/api/products/productuser`).then(res => {\n      dispatch({\n        type: FETCH_PRODUCT,\n        product: res.data\n      });\n      setLoading(true);\n    }).catch(error => {\n      setLoading(false); // console.log(error.response.request.response);\n      // setError(error.response.request.response);\n    });\n  }, []);\n  useEffect(() => {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      auth_token: `${localStorage.getItem(\"UserToken\")}`\n    };\n    axios.get(`https://lit-thicket-99427.herokuapp.com/api/user/useradress`, {\n      headers: headers\n    }).then(res => {\n      if (res.status === 400) {\n        console.log(\"err\");\n        setLoading(false);\n      } else {\n        dispatch({\n          type: FETCH_ADRESS,\n          adress: res.data[0].adress\n        });\n        setLoading(true);\n      }\n    }).catch(error => {\n      setLoading(false); // console.log(error.response.request.response);\n      // setError(error.response.request.response);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MyContext.Provider, {\n    value: {\n      state,\n      dispatch,\n      loading\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Context, \"MOMYWLR9Xn6ItLnJP8EYYAg91F0=\");\n\n_c = Context;\nexport default Context;\n\nvar _c;\n\n$RefreshReg$(_c, \"Context\");","map":{"version":3,"sources":["C:/Users/kesav/Downloads/TheShoeShop-main/TheShoeShop-main/frontend/src/Context/Context.js"],"names":["React","createContext","useReducer","useEffect","useState","axios","shopReducer","FETCH_PRODUCT","REFRESH_CART","FETCH_ADRESS","MyContext","Context","props","loading","setLoading","state","dispatch","cart","token","localStorage","getItem","user","name","id","adress","products","type","JSON","parse","get","then","res","product","data","catch","error","headers","auth_token","status","console","log","children"],"mappings":"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","sourcesContent":["import React, { createContext, useReducer, useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { shopReducer } from \"./reducers\";\n\nimport { FETCH_PRODUCT, REFRESH_CART, FETCH_ADRESS } from \"./reducers\";\nexport const MyContext = createContext();\n\nexport const Context = (props) => {\n  const [loading, setLoading] = useState(false);\n  const [state, dispatch] = useReducer(shopReducer, {\n    cart: [],\n    token: localStorage.getItem(\"UserToken\"),\n    user: {\n      name: localStorage.getItem(\"User\"),\n      id: localStorage.getItem(\"UserID\"),\n      adress: null,\n    },\n    products: [],\n  });\n\n  useEffect(() => {\n    dispatch({\n      type: REFRESH_CART,\n      cart: JSON.parse(localStorage.getItem(\"cart\")),\n    });\n  }, []);\n\n  useEffect(() => {\n    axios\n      .get(` https://lit-thicket-99427.herokuapp.com/api/products/productuser`)\n      .then((res) => {\n        dispatch({ type: FETCH_PRODUCT, product: res.data });\n        setLoading(true);\n      })\n      .catch((error) => {\n        setLoading(false);\n        // console.log(error.response.request.response);\n        // setError(error.response.request.response);\n      });\n  }, []);\n\n  useEffect(() => {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      auth_token: `${localStorage.getItem(\"UserToken\")}`,\n    };\n    axios\n      .get(`https://lit-thicket-99427.herokuapp.com/api/user/useradress`, {\n        headers: headers,\n      })\n      .then((res) => {\n        if (res.status === 400) {\n          console.log(\"err\");\n          setLoading(false);\n        } else {\n          dispatch({ type: FETCH_ADRESS, adress: res.data[0].adress });\n          setLoading(true);\n        }\n      })\n      .catch((error) => {\n        setLoading(false);\n        // console.log(error.response.request.response);\n        // setError(error.response.request.response);\n      });\n  }, []);\n  return (\n    <MyContext.Provider value={{ state, dispatch, loading }}>\n      {props.children}\n    </MyContext.Provider>\n  );\n};\n\nexport default Context;\n"]},"metadata":{},"sourceType":"module"}