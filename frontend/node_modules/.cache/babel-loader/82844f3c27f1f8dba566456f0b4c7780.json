{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kesav\\\\Downloads\\\\TheShoeShop-main\\\\TheShoeShop-main\\\\frontend\\\\src\\\\components\\\\FrontPage\\\\MostBought.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Product from \"../Products/Product\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nconst windowCheck = window.screen.width;\n\nconst MostBought = ({\n  state\n}) => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [most, setMost] = useState([]);\n  useEffect(() => {\n    const fetchOrders = () => {\n      axios.get(\"https://lit-thicket-99427.herokuapp.com/api/user/toporders\", {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(data => setData(data.data));\n    };\n\n    fetchOrders();\n  }, [state]);\n  useEffect(() => {\n    function getOccurrence(array, value) {\n      var count = 0;\n      array.forEach(v => v === value && count++);\n      return count;\n    }\n\n    const emptyArr = [];\n    const copy = [...data];\n    const returnCart = copy.map(el => el.cartMongo);\n    const returnAgain = returnCart.map(el => el);\n    const copyTwo = [...returnAgain];\n    const reCopy = copyTwo.map(el => el.map(z => z.id));\n    reCopy.map(el => el.map(z => emptyArr.push(z)));\n    const result = emptyArr.map(el => {\n      let newZ = {\n        id: state.filter(z => z.id === el),\n        orderTimes: getOccurrence(emptyArr, el)\n      };\n      return newZ;\n    }); // Gets form state.produc titem filters it and then makes new object with the amount of orders\n\n    const removeDUplicate = result.filter((thing, index, self) => index === self.findIndex(t => t.id[0] === thing.id[0]) //Compares them if there are dublicate values\n    ).sort((a, b) => {\n      return a.orderTimes - b.orderTimes;\n    }).reverse(); //Makes order by NUmbers sold\n\n    setMost(removeDUplicate);\n  }, [data, state]);\n\n  if (!most.length) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\",\n        style: {\n          color: \"orange\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      style: {\n        width: \"300px\",\n        height: \"40px\",\n        textAlign: \"center\",\n        alignItems: \"center\",\n        padding: \"5px 0\",\n        borderRadius: \"20px\",\n        marginBottom: \"-15px\",\n        fontSize: \"20px\",\n        fontWeight: \"700\",\n        fontFamily: \"Goldman\"\n      },\n      children: \"Most Sold shoes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      style: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        flexWrap: \"wrap\",\n        margin: \"0 auto\",\n        padding: windowCheck < 420 ? \"5px\" : \"0\",\n        justifyContent: \"center\"\n      },\n      children: most.slice(0, 5).map((el, index) => {\n        if (el.id[0]) {\n          return /*#__PURE__*/_jsxDEV(Product, {\n            product: el.id[0]\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 20\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading....\"\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 20\n          }, this);\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MostBought, \"MhNrzaGz8zkD3yRDiNrqMyUKWFs=\");\n\n_c = MostBought;\nexport default MostBought;\n\nvar _c;\n\n$RefreshReg$(_c, \"MostBought\");","map":{"version":3,"sources":["C:/Users/kesav/Downloads/TheShoeShop-main/TheShoeShop-main/frontend/src/components/FrontPage/MostBought.js"],"names":["React","useState","useEffect","axios","Product","Paper","CircularProgress","windowCheck","window","screen","width","MostBought","state","data","setData","most","setMost","fetchOrders","get","headers","then","getOccurrence","array","value","count","forEach","v","emptyArr","copy","returnCart","map","el","cartMongo","returnAgain","copyTwo","reCopy","z","id","push","result","newZ","filter","orderTimes","removeDUplicate","thing","index","self","findIndex","t","sort","a","b","reverse","length","color","height","textAlign","alignItems","padding","borderRadius","marginBottom","fontSize","fontWeight","fontFamily","display","flexDirection","flexWrap","margin","justifyContent","slice"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Product from \"../Products/Product\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nconst windowCheck = window.screen.width;\nconst MostBought = ({ state }) => {\n  const [data, setData] = useState([]);\n  const [most, setMost] = useState([]);\n  useEffect(() => {\n    const fetchOrders = () => {\n      axios\n        .get(\"https://lit-thicket-99427.herokuapp.com/api/user/toporders\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        })\n        .then((data) => setData(data.data));\n    };\n    fetchOrders();\n  }, [state]);\n\n  useEffect(() => {\n    function getOccurrence(array, value) {\n      var count = 0;\n      array.forEach((v) => v === value && count++);\n      return count;\n    }\n    const emptyArr = [];\n    const copy = [...data];\n    const returnCart = copy.map((el) => el.cartMongo);\n    const returnAgain = returnCart.map((el) => el);\n    const copyTwo = [...returnAgain];\n    const reCopy = copyTwo.map((el) => el.map((z) => z.id));\n    reCopy.map((el) => el.map((z) => emptyArr.push(z)));\n    const result = emptyArr.map((el) => {\n      let newZ = {\n        id: state.filter((z) => z.id === el),\n        orderTimes: getOccurrence(emptyArr, el),\n      };\n      return newZ;\n    }); // Gets form state.produc titem filters it and then makes new object with the amount of orders\n\n    const removeDUplicate = result\n      .filter(\n        (thing, index, self) =>\n          index === self.findIndex((t) => t.id[0] === thing.id[0]) //Compares them if there are dublicate values\n      )\n      .sort((a, b) => {\n        return a.orderTimes - b.orderTimes;\n      })\n      .reverse(); //Makes order by NUmbers sold\n    setMost(removeDUplicate);\n  }, [data, state]);\n\n  if (!most.length) {\n    return (\n      <h1>\n        <CircularProgress color=\"secondary\" style={{ color: \"orange\" }} />\n      </h1>\n    );\n  }\n  return (\n    <div>\n      <Paper\n        elevation={3}\n        style={{\n          width: \"300px\",\n          height: \"40px\",\n          textAlign: \"center\",\n          alignItems: \"center\",\n          padding: \"5px 0\",\n          borderRadius: \"20px\",\n          marginBottom: \"-15px\",\n          fontSize: \"20px\",\n\n          fontWeight: \"700\",\n          fontFamily: \"Goldman\",\n        }}\n      >\n        Most Sold shoes\n      </Paper>\n      <Paper\n        elevation={3}\n        style={{\n          width: \"100%\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          flexWrap: \"wrap\",\n          margin: \"0 auto\",\n          padding: windowCheck < 420 ? \"5px\" : \"0\",\n          justifyContent: \"center\",\n        }}\n      >\n        {most.slice(0, 5).map((el, index) => {\n          if (el.id[0]) {\n            return <Product key={index} product={el.id[0]} />;\n          } else {\n            return <p key={index}>Loading....</p>;\n          }\n        })}\n      </Paper>\n    </div>\n  );\n};\n\nexport default MostBought;\n"]},"metadata":{},"sourceType":"module"}