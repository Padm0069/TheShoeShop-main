{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kesav\\\\Downloads\\\\TheShoeShop-main\\\\TheShoeShop-main\\\\frontend\\\\src\\\\components\\\\User\\\\AdminPanel.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { MyContext } from \"../../Context/Context\";\nimport { FETCH_PRODUCT } from \"../../Context/reducers\";\nconst headers = {\n  auth_token: `${localStorage.getItem(\"UserToken\")}`\n};\n\nconst AdminPanel = () => {\n  _s();\n\n  const {\n    dispatch\n  } = useContext(MyContext);\n  const [adminproduct, setAdminproduct] = useState({\n    name: \"\",\n    price: \"\",\n    category: \"\",\n    countInStock: \"\",\n    brand: \"\",\n    sizes: [40, 41, 42, 42.5, 43, 44, 44.5, 45, 45.5, 46],\n    description: \"\",\n    selectedSize: \"\",\n    color: \"\"\n  });\n  const [showit, setShowimage] = useState(null);\n  const [image, setImage] = useState({\n    file: \"\"\n  });\n\n  const onChange = e => {\n    setAdminproduct({ ...adminproduct,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const formData = new FormData(); //   formData.append(\"productImage\", image.file);\n\n  formData.append(\"name\", adminproduct.name);\n  formData.append(\"price\", adminproduct.price);\n  formData.append(\"category\", adminproduct.category);\n  formData.append(\"countInStock\", adminproduct.countInStock);\n  formData.append(\"brand\", adminproduct.brand);\n  formData.append(\"description\", adminproduct.description);\n  formData.append(\"color\", adminproduct.color);\n\n  for (var i = 0; i < adminproduct.sizes.length; i++) {\n    //Adds FormData Array (otherwise goes as string)\n    formData.append(\"sizes[]\", adminproduct.sizes[i]);\n  }\n\n  for (const key of Object.keys(image.file)) {\n    formData.append(\"productImage\", image.file[key]);\n  }\n\n  const onChangeImage = e => {\n    setImage({\n      file: e.target.files\n    });\n  };\n\n  const addNewProduct = () => {\n    axios.post(`https://lit-thicket-99427.herokuapp.com/api/products/addproduct`, formData, {\n      headers: headers\n    }).then(res => {\n      if (res.status === 400) {\n        console.log(\"err\");\n      } else {\n        console.log(res);\n      }\n    }).catch(error => {//   setError(error.response.request.response);\n    });\n  };\n\n  useEffect(() => {\n    axios.get(`https://lit-thicket-99427.herokuapp.com/api/products/productuser`).then(res => {\n      dispatch({\n        type: FETCH_PRODUCT,\n        product: res.data\n      });\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"name\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), \"price\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"price\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), \"category\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"category\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), \"countInstock\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"countInStock\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), \"brand\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"brand\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), \"description\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n      type: \"text\",\n      name: \"description\",\n      row: \"25\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), \"color\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"color\",\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"productImage\",\n      onChange: onChangeImage,\n      multiple: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addNewProduct,\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminPanel, \"jTn5Sc4JjxnetmdpLIVl9gpV9Lw=\");\n\n_c = AdminPanel;\nexport default AdminPanel;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"sources":["C:/Users/kesav/Downloads/TheShoeShop-main/TheShoeShop-main/frontend/src/components/User/AdminPanel.js"],"names":["React","useState","useEffect","useContext","axios","MyContext","FETCH_PRODUCT","headers","auth_token","localStorage","getItem","AdminPanel","dispatch","adminproduct","setAdminproduct","name","price","category","countInStock","brand","sizes","description","selectedSize","color","showit","setShowimage","image","setImage","file","onChange","e","target","value","formData","FormData","append","i","length","key","Object","keys","onChangeImage","files","addNewProduct","post","then","res","status","console","log","catch","error","get","type","product","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { MyContext } from \"../../Context/Context\";\nimport { FETCH_PRODUCT } from \"../../Context/reducers\";\n\nconst headers = {\n  auth_token: `${localStorage.getItem(\"UserToken\")}`,\n};\nconst AdminPanel = () => {\n  const { dispatch } = useContext(MyContext);\n  const [adminproduct, setAdminproduct] = useState({\n    name: \"\",\n    price: \"\",\n    category: \"\",\n    countInStock: \"\",\n    brand: \"\",\n    sizes: [40, 41, 42, 42.5, 43, 44, 44.5, 45, 45.5, 46],\n    description: \"\",\n    selectedSize: \"\",\n    color: \"\",\n  });\n  const [showit, setShowimage] = useState(null);\n  const [image, setImage] = useState({ file: \"\" });\n  const onChange = (e) => {\n    setAdminproduct({ ...adminproduct, [e.target.name]: e.target.value });\n  };\n\n  const formData = new FormData();\n  //   formData.append(\"productImage\", image.file);\n  formData.append(\"name\", adminproduct.name);\n  formData.append(\"price\", adminproduct.price);\n  formData.append(\"category\", adminproduct.category);\n  formData.append(\"countInStock\", adminproduct.countInStock);\n  formData.append(\"brand\", adminproduct.brand);\n  formData.append(\"description\", adminproduct.description);\n  formData.append(\"color\", adminproduct.color);\n\n  for (var i = 0; i < adminproduct.sizes.length; i++) {\n    //Adds FormData Array (otherwise goes as string)\n    formData.append(\"sizes[]\", adminproduct.sizes[i]);\n  }\n  for (const key of Object.keys(image.file)) {\n    formData.append(\"productImage\", image.file[key]);\n  }\n\n  const onChangeImage = (e) => {\n    setImage({ file: e.target.files });\n  };\n\n  const addNewProduct = () => {\n    axios\n      .post(\n        `https://lit-thicket-99427.herokuapp.com/api/products/addproduct`,\n\n        formData,\n        {\n          headers: headers,\n        }\n      )\n\n      .then((res) => {\n        if (res.status === 400) {\n          console.log(\"err\");\n        } else {\n          console.log(res);\n        }\n      })\n      .catch((error) => {\n        //   setError(error.response.request.response);\n      });\n  };\n\n  useEffect(() => {\n    axios\n      .get(`https://lit-thicket-99427.herokuapp.com/api/products/productuser`)\n      .then((res) => {\n        dispatch({ type: FETCH_PRODUCT, product: res.data });\n      });\n  }, []);\n\n  return (\n    <div>\n      name\n      <input type=\"text\" name=\"name\" onChange={onChange} />\n      price\n      <input type=\"text\" name=\"price\" onChange={onChange} />\n      category\n      <input type=\"text\" name=\"category\" onChange={onChange} />\n      countInstock\n      <input type=\"number\" name=\"countInStock\" onChange={onChange} />\n      brand\n      <input type=\"text\" name=\"brand\" onChange={onChange} />\n      description\n      <textarea type=\"text\" name=\"description\" row=\"25\" onChange={onChange} />\n      color\n      <input type=\"text\" name=\"color\" onChange={onChange} />\n      <input\n        type=\"file\"\n        name=\"productImage\"\n        onChange={onChangeImage}\n        multiple\n      />\n      <button onClick={addNewProduct}>Add</button>\n    </div>\n  );\n};\n\nexport default AdminPanel;\n"]},"metadata":{},"sourceType":"module"}