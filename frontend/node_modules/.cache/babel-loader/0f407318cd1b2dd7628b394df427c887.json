{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kesav\\\\Downloads\\\\TheShoeShop-main\\\\TheShoeShop-main\\\\frontend\\\\src\\\\components\\\\SearchBar\\\\SearchBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { makeStyles, InputBase, fade, List, ListItem, Avatar, Divider, ListItemAvatar, ListItemText, Paper, IconButton } from \"@material-ui/core/\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { Link, useHistory } from \"react-router-dom\";\nconst windowCheck = window.screen.width;\nconst useStyles = makeStyles(theme => ({\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\"\n    },\n    zIndex: \"2\"\n  },\n  searchIcon: {\n    cursor: \"pointer\",\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\"\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    height: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"23ch\",\n      height: \"100%\"\n    }\n  },\n  searchBox: {\n    width: windowCheck <= 768 ? \"300px\" : \"100%\",\n    padding: \"15px\",\n    margin: \"0 auto\",\n    height: \"500px\",\n    backgroundColor: \"white\",\n    color: \"black\",\n    position: \"absolute\",\n    top: 40,\n    left: -15,\n    zIndex: \"15\",\n    borderRadius: \"5px\"\n  },\n  theitem: {\n    height: \"100%\",\n    \"&:hover\": {\n      backgroundColor: \"#eeeeee\"\n    }\n  },\n  searchbtn: {\n    backgroundColor: \"#ffd180\",\n    color: \"white\",\n    \"&:hover\": {\n      backgroundColor: \"#ffab40\"\n    }\n  }\n}));\n\nconst SearchBar = ({\n  state\n}) => {\n  _s();\n\n  const history = useHistory();\n  const wrapperRef = useRef(null);\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [arrayFiltered, setarrayFiltered] = useState([]);\n\n  const handleSearch = e => {\n    setSearchValue(e.target.value);\n  };\n\n  useEffect(() => {\n    if (searchValue) {\n      const filter = state.filter(el => {\n        let newobj = {\n          name: el.name,\n          color: el.color\n        };\n        let name = newobj.name + \" \" + newobj.color;\n        return name.toLowerCase().includes(searchValue.toLocaleLowerCase());\n      });\n      setarrayFiltered(filter);\n\n      if (filter.length >= 1) {\n        setOpen(true);\n      } else {\n        setOpen(false);\n      }\n    } else {\n      setOpen(false);\n    }\n  }, [searchValue, state]);\n\n  const handleClose = () => {\n    setOpen(false);\n    setSearchValue(\"\");\n  };\n\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\n        handleClose();\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [wrapperRef]);\n\n  const sendToSearchRoute = e => {\n    e.preventDefault();\n    history.push({\n      pathname: \"/search\",\n      state: {\n        arrayFiltered,\n        key: searchValue\n      }\n    });\n    handleClose();\n  };\n\n  const copyArr = [...arrayFiltered];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.search,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: sendToSearchRoute,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: sendToSearchRoute,\n        className: classes.searchIcon,\n        children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n        value: searchValue,\n        onChange: handleSearch,\n        placeholder: \"Search\\u2026\",\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput\n        },\n        inputProps: {\n          \"aria-label\": \"search\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), open && /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.searchBox,\n        ref: wrapperRef,\n        elevation: 3,\n        children: [arrayFiltered.length >= 1 && /*#__PURE__*/_jsxDEV(List, {\n          children: [\" \", copyArr.slice(0, 3).map((el, index) => {\n            return /*#__PURE__*/_jsxDEV(Link, {\n              onClick: handleClose,\n              to: `/products/${el.id}`,\n              style: {\n                textDecoration: \"none\",\n                color: \"black\",\n                height: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                className: classes.theitem,\n                children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                  children: /*#__PURE__*/_jsxDEV(Avatar, {\n                    style: {\n                      border: \"1px solid #9e9e9e\"\n                    },\n                    alt: el.name,\n                    src: `${el.image[1].location}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: el.name + \",\" + el.color\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                variant: \"inset\",\n                component: \"li\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 21\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            float: \"right\",\n            cursor: \"pointer\"\n          },\n          children: [`More results `, /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: sendToSearchRoute,\n            className: classes.searchbtn,\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchBar, \"rCwSsF8uqhvoXtiwIn+jCET9m3Q=\", false, function () {\n  return [useHistory, useStyles];\n});\n\n_c = SearchBar;\nexport default SearchBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"sources":["C:/Users/kesav/Downloads/TheShoeShop-main/TheShoeShop-main/frontend/src/components/SearchBar/SearchBar.js"],"names":["React","useState","useEffect","useRef","makeStyles","InputBase","fade","List","ListItem","Avatar","Divider","ListItemAvatar","ListItemText","Paper","IconButton","SearchIcon","Link","useHistory","windowCheck","window","screen","width","useStyles","theme","search","position","borderRadius","shape","backgroundColor","palette","common","white","marginRight","spacing","marginLeft","breakpoints","up","zIndex","searchIcon","cursor","padding","height","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","searchBox","margin","top","left","theitem","searchbtn","SearchBar","state","history","wrapperRef","classes","open","setOpen","searchValue","setSearchValue","arrayFiltered","setarrayFiltered","handleSearch","e","target","value","filter","el","newobj","name","toLowerCase","includes","toLocaleLowerCase","length","handleClose","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","sendToSearchRoute","preventDefault","push","pathname","key","copyArr","root","input","slice","map","index","id","textDecoration","border","image","location","float"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport {\n  makeStyles,\n  InputBase,\n  fade,\n  List,\n  ListItem,\n  Avatar,\n  Divider,\n  ListItemAvatar,\n  ListItemText,\n  Paper,\n  IconButton,\n} from \"@material-ui/core/\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { Link, useHistory } from \"react-router-dom\";\nconst windowCheck = window.screen.width;\nconst useStyles = makeStyles((theme) => ({\n  search: {\n    position: \"relative\",\n\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\",\n    },\n    zIndex: \"2\",\n  },\n  searchIcon: {\n    cursor: \"pointer\",\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    height: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"23ch\",\n      height: \"100%\",\n    },\n  },\n  searchBox: {\n    width: windowCheck <= 768 ? \"300px\" : \"100%\",\n    padding: \"15px\",\n    margin: \"0 auto\",\n    height: \"500px\",\n\n    backgroundColor: \"white\",\n    color: \"black\",\n    position: \"absolute\",\n    top: 40,\n    left: -15,\n    zIndex: \"15\",\n    borderRadius: \"5px\",\n  },\n  theitem: {\n    height: \"100%\",\n    \"&:hover\": {\n      backgroundColor: \"#eeeeee\",\n    },\n  },\n  searchbtn: {\n    backgroundColor: \"#ffd180\",\n    color: \"white\",\n    \"&:hover\": {\n      backgroundColor: \"#ffab40\",\n    },\n  },\n}));\n\nconst SearchBar = ({ state }) => {\n  const history = useHistory();\n  const wrapperRef = useRef(null);\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [arrayFiltered, setarrayFiltered] = useState([]);\n  const handleSearch = (e) => {\n    setSearchValue(e.target.value);\n  };\n\n  useEffect(() => {\n    if (searchValue) {\n      const filter = state.filter((el) => {\n        let newobj = { name: el.name, color: el.color };\n        let name = newobj.name + \" \" + newobj.color;\n\n        return name.toLowerCase().includes(searchValue.toLocaleLowerCase());\n      });\n      setarrayFiltered(filter);\n      if (filter.length >= 1) {\n        setOpen(true);\n      } else {\n        setOpen(false);\n      }\n    } else {\n      setOpen(false);\n    }\n  }, [searchValue, state]);\n\n  const handleClose = () => {\n    setOpen(false);\n    setSearchValue(\"\");\n  };\n\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\n        handleClose();\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [wrapperRef]);\n\n  const sendToSearchRoute = (e) => {\n    e.preventDefault();\n    history.push({\n      pathname: \"/search\",\n\n      state: { arrayFiltered, key: searchValue },\n    });\n    handleClose();\n  };\n\n  const copyArr = [...arrayFiltered];\n  return (\n    <div className={classes.search}>\n      <form onSubmit={sendToSearchRoute}>\n        <div onClick={sendToSearchRoute} className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          value={searchValue}\n          onChange={handleSearch}\n          placeholder=\"Searchâ€¦\"\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput,\n          }}\n          inputProps={{ \"aria-label\": \"search\" }}\n        />\n\n        {open && (\n          <Paper className={classes.searchBox} ref={wrapperRef} elevation={3}>\n            {arrayFiltered.length >= 1 && (\n              <List>\n                {\" \"}\n                {copyArr.slice(0, 3).map((el, index) => {\n                  return (\n                    <Link\n                      key={index}\n                      onClick={handleClose}\n                      to={`/products/${el.id}`}\n                      style={{\n                        textDecoration: \"none\",\n                        color: \"black\",\n                        height: \"100%\",\n                      }}\n                    >\n                      <ListItem key={index} className={classes.theitem}>\n                        <ListItemAvatar>\n                          <Avatar\n                            style={{ border: \"1px solid #9e9e9e\" }}\n                            alt={el.name}\n                            src={`${el.image[1].location}`}\n                          />\n                        </ListItemAvatar>\n                        <ListItemText primary={el.name + \",\" + el.color} />\n                      </ListItem>\n                      <Divider variant=\"inset\" component=\"li\" />\n                    </Link>\n                  );\n                })}\n              </List>\n            )}\n            <div style={{ float: \"right\", cursor: \"pointer\" }}>\n              {`More results `}\n              <IconButton\n                onClick={sendToSearchRoute}\n                className={classes.searchbtn}\n              >\n                <SearchIcon />\n              </IconButton>\n            </div>\n          </Paper>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}