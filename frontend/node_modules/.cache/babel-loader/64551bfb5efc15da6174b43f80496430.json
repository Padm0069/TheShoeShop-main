{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kesav\\\\Downloads\\\\TheShoeShop-main\\\\TheShoeShop-main\\\\frontend\\\\src\\\\components\\\\User\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport { MyContext } from \"../../Context/Context\";\nimport { USER_LOGIN } from \"../../Context/reducers\";\nimport axios from \"axios\";\nimport { Button, TextField, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, makeStyles } from \"@material-ui/core/\";\nconst useStyles = makeStyles({\n  loginbtn: {\n    borderRadius: \"25px\",\n    fontSize: \"13px\",\n    padding: \"5px 10px\",\n    marginRight: \"5px\",\n    backgroundColor: \"#ffc107\",\n    \"&:hover\": {\n      backgroundColor: \"#ffac33\"\n    }\n  }\n});\n\nconst Register = ({\n  openRegister,\n  handleCloseRegister\n}) => {\n  _s();\n\n  const {\n    dispatch\n  } = useContext(MyContext);\n  const classes = useStyles();\n  const [user, setUser] = useState({\n    name: \"\",\n    password: \"\",\n    email: \"\"\n  });\n  const [passwordTwo, setPasswordTwo] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const handleOnChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const confirmPassword = e => {\n    setPasswordTwo(e.target.value);\n  };\n\n  const addNewUser = e => {\n    e.preventDefault();\n\n    if (user.password !== passwordTwo) {\n      setError(\"Passwords does not match!\");\n    } else {\n      axios.post(`https://lit-thicket-99427.herokuapp.com/api/user/register`, user).then(res => {\n        if (res.status === 400) {\n          console.log(\"err\");\n        } else {\n          window.localStorage.setItem(\"UserToken\", res.data.token);\n          window.localStorage.setItem(\"User\", res.data.user);\n          window.localStorage.setItem(\"UserID\", res.data.userID);\n          dispatch({\n            type: USER_LOGIN,\n            token: res.data.token,\n            user: {\n              name: res.data.user,\n              id: res.data.userID\n            }\n          });\n          setError(null);\n          handleCloseRegister();\n        }\n      }).catch(error => {\n        setError(error.response.request.response);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: openRegister,\n    onClose: handleCloseRegister,\n    \"aria-labelledby\": \"form-dialog-title\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addNewUser,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Please create a new account.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"name\",\n          name: \"name\",\n          label: \"Username\",\n          type: \"name\",\n          fullWidth: true,\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"password\",\n          name: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          fullWidth: true,\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"passwordTwo\",\n          name: \"passwordTwo\",\n          label: \"Confirm password\",\n          type: \"password\",\n          fullWidth: true,\n          onChange: confirmPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"email\",\n          name: \"email\",\n          label: \"Email\",\n          type: \"email\",\n          fullWidth: true,\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseRegister,\n          color: \"primary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: classes.loginbtn,\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: \"center\",\n            color: \"red\",\n            fontWeight: \"400\"\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"ViJ1C52rkMANO/A8AnCWtcPTyYU=\", false, function () {\n  return [useStyles];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/kesav/Downloads/TheShoeShop-main/TheShoeShop-main/frontend/src/components/User/Register.js"],"names":["React","useState","useContext","MyContext","USER_LOGIN","axios","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","makeStyles","useStyles","loginbtn","borderRadius","fontSize","padding","marginRight","backgroundColor","Register","openRegister","handleCloseRegister","dispatch","classes","user","setUser","name","password","email","passwordTwo","setPasswordTwo","error","setError","handleOnChange","e","target","value","confirmPassword","addNewUser","preventDefault","post","then","res","status","console","log","window","localStorage","setItem","data","token","userID","type","id","catch","response","request","textAlign","color","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { MyContext } from \"../../Context/Context\";\nimport { USER_LOGIN } from \"../../Context/reducers\";\nimport axios from \"axios\";\nimport {\n  Button,\n  TextField,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  makeStyles,\n} from \"@material-ui/core/\";\n\nconst useStyles = makeStyles({\n  loginbtn: {\n    borderRadius: \"25px\",\n    fontSize: \"13px\",\n    padding: \"5px 10px\",\n    marginRight: \"5px\",\n    backgroundColor: \"#ffc107\",\n    \"&:hover\": {\n      backgroundColor: \"#ffac33\",\n    },\n  },\n});\n\nconst Register = ({ openRegister, handleCloseRegister }) => {\n  const { dispatch } = useContext(MyContext);\n  const classes = useStyles();\n  const [user, setUser] = useState({\n    name: \"\",\n    password: \"\",\n    email: \"\",\n  });\n  const [passwordTwo, setPasswordTwo] = useState(\"\");\n  const [error, setError] = useState(null);\n  const handleOnChange = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const confirmPassword = (e) => {\n    setPasswordTwo(e.target.value);\n  };\n  const addNewUser = (e) => {\n    e.preventDefault();\n    if (user.password !== passwordTwo) {\n      setError(\"Passwords does not match!\");\n    } else {\n      axios\n        .post(`https://lit-thicket-99427.herokuapp.com/api/user/register`, user)\n\n        .then((res) => {\n          if (res.status === 400) {\n            console.log(\"err\");\n          } else {\n            window.localStorage.setItem(\"UserToken\", res.data.token);\n            window.localStorage.setItem(\"User\", res.data.user);\n            window.localStorage.setItem(\"UserID\", res.data.userID);\n            dispatch({\n              type: USER_LOGIN,\n              token: res.data.token,\n              user: { name: res.data.user, id: res.data.userID },\n            });\n            setError(null);\n            handleCloseRegister();\n          }\n        })\n        .catch((error) => {\n          setError(error.response.request.response);\n        });\n    }\n  };\n  return (\n    <Dialog\n      open={openRegister}\n      onClose={handleCloseRegister}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <form onSubmit={addNewUser}>\n        <DialogTitle id=\"form-dialog-title\">Sign Up</DialogTitle>\n        <DialogContent>\n          <DialogContentText>Please create a new account.</DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            name=\"name\"\n            label=\"Username\"\n            type=\"name\"\n            fullWidth\n            onChange={handleOnChange}\n          />\n\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"password\"\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            fullWidth\n            onChange={handleOnChange}\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"passwordTwo\"\n            name=\"passwordTwo\"\n            label=\"Confirm password\"\n            type=\"password\"\n            fullWidth\n            onChange={confirmPassword}\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"email\"\n            name=\"email\"\n            label=\"Email\"\n            type=\"email\"\n            fullWidth\n            onChange={handleOnChange}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseRegister} color=\"primary\">\n            Cancel\n          </Button>\n          <Button type=\"submit\" className={classes.loginbtn}>\n            Sign Up\n          </Button>\n        </DialogActions>\n        {error && (\n          <div>\n            <p style={{ textAlign: \"center\", color: \"red\", fontWeight: \"400\" }}>\n              {error}\n            </p>\n          </div>\n        )}\n      </form>\n    </Dialog>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}