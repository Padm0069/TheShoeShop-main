{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kesav\\\\Downloads\\\\TheShoeShop-main\\\\TheShoeShop-main\\\\frontend\\\\src\\\\components\\\\Products\\\\Product.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DialogWindow from \"./ProductID/DialogWindow \";\nimport { Card, CardActionArea, CardActions, CardContent, CardMedia, Typography, makeStyles, Paper, IconButton } from \"@material-ui/core\";\nimport { MyContext } from \"../../Context/Context\";\nimport { ADD_PRODUCT } from \"../../Context/reducers\";\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport { Rating } from \"@material-ui/lab\";\nconst windowCheck = window.screen.width;\nconst useStyles = makeStyles({\n  root: {\n    borderRadius: \"5px\",\n    width: windowCheck < 1024 ? \"45%\" : \"100%\",\n    maxWidth: windowCheck < 1024 ? \"100%\" : 250,\n    maxHeight: windowCheck < 1024 ? 250 : 500,\n    margin: \"15px\"\n  },\n  rootMobile: {\n    borderRadius: \"5px\",\n    width: \"45%\",\n    maxHeight: 250,\n    margin: \"2px\"\n  },\n  media: {\n    height: windowCheck < 1024 ? 100 : 250,\n    maxHeight: windowCheck < 1024 ? 200 : 300,\n    position: \"relative\"\n  },\n  cardcontainer: {\n    width: windowCheck < 1024 ? \"100%\" : \"250px\",\n    height: windowCheck < 1024 ? \"100%\" : 500,\n    maxWidth: windowCheck < 1024 ? \"100%\" : \"250px\",\n    display: \"flex\",\n    position: \"relative\"\n  },\n  btncontainer: {\n    position: \"absolute\",\n    bottom: windowCheck < 1024 ? 80 : 160,\n    right: 0\n  },\n  addToCart: {\n    margin: \"0 auto\",\n    width: \"70px\",\n    height: \"70px\",\n    border: \"10px solid white\",\n    borderRadius: \"50px\",\n    fontSize: \"13px\",\n    padding: \"5px 15px\",\n    backgroundColor: \"#ffc107\",\n    transition: \"1s\",\n    color: \"black\",\n    \"&:hover\": {\n      backgroundColor: \"#ffac33\",\n      border: \"5px solid grey\",\n      transform: \"scale(1.2)\"\n    }\n  },\n  price: {\n    marginTop: windowCheck < 1024 ? \"5px\" : \"15px\",\n    fontFamily: \"Goldman\"\n  },\n  inCart: {\n    margin: \"0 auto\",\n    width: \"70px\",\n    height: \"70px\",\n    border: \"10px solid white\",\n    borderRadius: \"50px\",\n    fontSize: \"13px\",\n    padding: \"5px 15px\",\n    backgroundColor: \"#e0e0e0\",\n    transition: \"1s\",\n    color: \"black\"\n  }\n});\nexport default function Product({\n  product\n}) {\n  _s();\n\n  const classes = useStyles();\n  const {\n    state,\n    dispatch\n  } = useContext(MyContext);\n  const [disable, setDisable] = useState(false);\n  const [open, setOpen] = useState(false);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const disableChange = param => {\n    setDisable(param);\n  };\n\n  useEffect(() => {\n    const copyState = [...state.cart];\n    const findIndex = copyState.findIndex(item => item.id === product.id);\n\n    if (findIndex < 0) {\n      disableChange(false);\n    } else {\n      disableChange(true);\n      handleClose();\n    }\n  }, [state.cart, product]);\n\n  const addToCart = () => {\n    if (product.selectedSize === \"\") {\n      setOpen(true);\n    } else {\n      dispatch({\n        type: ADD_PRODUCT,\n        product: product\n      });\n    }\n  };\n\n  const [hover, setHover] = useState(1);\n\n  const imgCard = () => {\n    if (hover === 2) {\n      return /*#__PURE__*/_jsxDEV(CardMedia, {\n        className: classes.media,\n        image: `${product.image[1].location}`,\n        title: \"Contemplative Reptile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(CardMedia, {\n        className: classes.media,\n        image: `${product.image[0].location}`,\n        title: \"Contemplative Reptile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  useEffect(() => {\n    if (!product.reviews.length) {\n      setRating(0);\n    } else if (product.reviews.length === 1) {\n      setRating(product.reviews[0].rating);\n    } else {\n      const calculate = product.reviews.reduce((a, b) => {\n        return (a.rating + b.rating) / product.reviews.length;\n      });\n      setRating(calculate);\n    }\n  }, [product]);\n  const [rating, setRating] = useState(0);\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 1,\n    className: windowCheck < 420 ? classes.rootMobile : classes.root,\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      className: classes.cardcontainer,\n      onMouseOver: () => setHover(2),\n      onMouseOut: () => setHover(1),\n      children: [/*#__PURE__*/_jsxDEV(CardActionArea, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/products/${product.id}`,\n          style: {\n            textDecoration: \"none\",\n            color: \"black\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Rating, {\n            style: {\n              display: \"flex\",\n              paddingBottom: \"15px\",\n              justifyContent: \"center\"\n            },\n            value: rating,\n            name: \"simple-controlled\",\n            readOnly: true,\n            precision: 0.5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), imgCard(), /*#__PURE__*/_jsxDEV(CardContent, {\n            style: {\n              maxHeight: windowCheck < 1024 ? \"100%\" : \"200px\",\n              overflow: \"hidden\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              gutterBottom: true,\n              variant: \"h5\",\n              component: \"h2\",\n              style: {\n                fontFamily: \"Exo 2\",\n                height: windowCheck < 1024 ? \"100%\" : \"50px\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                whiteSpace: \"nowrap\",\n                fontSize: windowCheck < 1024 ? \"12px\" : \"\",\n                marginTop: \"25px\"\n              },\n              children: [product.name, \",\", product.color]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(Typography, {\n              gutterBottom: true,\n              variant: \"h6\",\n              component: \"h2\",\n              className: classes.price,\n              children: [product.price, \"\\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        className: classes.btncontainer,\n        children: disable ? /*#__PURE__*/_jsxDEV(IconButton, {\n          className: classes.inCart,\n          disabled: true,\n          children: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {\n            style: {\n              color: \"grey\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(IconButton, {\n          className: classes.addToCart,\n          onClick: addToCart,\n          children: /*#__PURE__*/_jsxDEV(AddShoppingCartIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogWindow, {\n      open: open,\n      handleClose: handleClose,\n      product: product\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Product, \"RnpyEN6ySh3fAe/IZV/+DR2V1Pk=\", false, function () {\n  return [useStyles];\n});\n\n_c = Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["C:/Users/kesav/Downloads/TheShoeShop-main/TheShoeShop-main/frontend/src/components/Products/Product.js"],"names":["React","useContext","useState","useEffect","Link","DialogWindow","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","makeStyles","Paper","IconButton","MyContext","ADD_PRODUCT","AddShoppingCartIcon","ShoppingCartIcon","Rating","windowCheck","window","screen","width","useStyles","root","borderRadius","maxWidth","maxHeight","margin","rootMobile","media","height","position","cardcontainer","display","btncontainer","bottom","right","addToCart","border","fontSize","padding","backgroundColor","transition","color","transform","price","marginTop","fontFamily","inCart","Product","product","classes","state","dispatch","disable","setDisable","open","setOpen","handleClose","disableChange","param","copyState","cart","findIndex","item","id","selectedSize","type","hover","setHover","imgCard","image","location","reviews","length","setRating","rating","calculate","reduce","a","b","textDecoration","paddingBottom","justifyContent","overflow","textOverflow","whiteSpace","name"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DialogWindow from \"./ProductID/DialogWindow \";\n\nimport {\n  Card,\n  CardActionArea,\n  CardActions,\n  CardContent,\n  CardMedia,\n  Typography,\n  makeStyles,\n  Paper,\n  IconButton,\n} from \"@material-ui/core\";\n\nimport { MyContext } from \"../../Context/Context\";\nimport { ADD_PRODUCT } from \"../../Context/reducers\";\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport { Rating } from \"@material-ui/lab\";\n\nconst windowCheck = window.screen.width;\n\nconst useStyles = makeStyles({\n  root: {\n    borderRadius: \"5px\",\n\n    width: windowCheck < 1024 ? \"45%\" : \"100%\",\n\n    maxWidth: windowCheck < 1024 ? \"100%\" : 250,\n    maxHeight: windowCheck < 1024 ? 250 : 500,\n    margin: \"15px\",\n  },\n  rootMobile: {\n    borderRadius: \"5px\",\n\n    width: \"45%\",\n    maxHeight: 250,\n    margin: \"2px\",\n  },\n  media: {\n    height: windowCheck < 1024 ? 100 : 250,\n    maxHeight: windowCheck < 1024 ? 200 : 300,\n\n    position: \"relative\",\n  },\n  cardcontainer: {\n    width: windowCheck < 1024 ? \"100%\" : \"250px\",\n    height: windowCheck < 1024 ? \"100%\" : 500,\n    maxWidth: windowCheck < 1024 ? \"100%\" : \"250px\",\n\n    display: \"flex\",\n\n    position: \"relative\",\n  },\n  btncontainer: {\n    position: \"absolute\",\n    bottom: windowCheck < 1024 ? 80 : 160,\n    right: 0,\n  },\n  addToCart: {\n    margin: \"0 auto\",\n    width: \"70px\",\n    height: \"70px\",\n    border: \"10px solid white\",\n    borderRadius: \"50px\",\n    fontSize: \"13px\",\n    padding: \"5px 15px\",\n    backgroundColor: \"#ffc107\",\n    transition: \"1s\",\n    color: \"black\",\n    \"&:hover\": {\n      backgroundColor: \"#ffac33\",\n      border: \"5px solid grey\",\n      transform: \"scale(1.2)\",\n    },\n  },\n  price: {\n    marginTop: windowCheck < 1024 ? \"5px\" : \"15px\",\n    fontFamily: \"Goldman\",\n  },\n  inCart: {\n    margin: \"0 auto\",\n    width: \"70px\",\n    height: \"70px\",\n    border: \"10px solid white\",\n    borderRadius: \"50px\",\n    fontSize: \"13px\",\n    padding: \"5px 15px\",\n    backgroundColor: \"#e0e0e0\",\n    transition: \"1s\",\n    color: \"black\",\n  },\n});\n\nexport default function Product({ product }) {\n  const classes = useStyles();\n\n  const { state, dispatch } = useContext(MyContext);\n  const [disable, setDisable] = useState(false);\n  const [open, setOpen] = useState(false);\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const disableChange = (param) => {\n    setDisable(param);\n  };\n  useEffect(() => {\n    const copyState = [...state.cart];\n    const findIndex = copyState.findIndex((item) => item.id === product.id);\n    if (findIndex < 0) {\n      disableChange(false);\n    } else {\n      disableChange(true);\n      handleClose();\n    }\n  }, [state.cart, product]);\n\n  const addToCart = () => {\n    if (product.selectedSize === \"\") {\n      setOpen(true);\n    } else {\n      dispatch({ type: ADD_PRODUCT, product: product });\n    }\n  };\n  const [hover, setHover] = useState(1);\n\n  const imgCard = () => {\n    if (hover === 2) {\n      return (\n        <CardMedia\n          className={classes.media}\n          image={`${product.image[1].location}`}\n          title=\"Contemplative Reptile\"\n        />\n      );\n    } else {\n      return (\n        <CardMedia\n          className={classes.media}\n          image={`${product.image[0].location}`}\n          title=\"Contemplative Reptile\"\n        />\n      );\n    }\n  };\n\n  useEffect(() => {\n    if (!product.reviews.length) {\n      setRating(0);\n    } else if (product.reviews.length === 1) {\n      setRating(product.reviews[0].rating);\n    } else {\n      const calculate = product.reviews.reduce((a, b) => {\n        return (a.rating + b.rating) / product.reviews.length;\n      });\n\n      setRating(calculate);\n    }\n  }, [product]);\n\n  const [rating, setRating] = useState(0);\n\n  return (\n    <Paper\n      elevation={1}\n      className={windowCheck < 420 ? classes.rootMobile : classes.root}\n    >\n      <Card\n        className={classes.cardcontainer}\n        onMouseOver={() => setHover(2)}\n        onMouseOut={() => setHover(1)}\n      >\n        <CardActionArea>\n          <Link\n            to={`/products/${product.id}`}\n            style={{\n              textDecoration: \"none\",\n              color: \"black\",\n            }}\n          >\n            <Rating\n              style={{\n                display: \"flex\",\n                paddingBottom: \"15px\",\n                justifyContent: \"center\",\n              }}\n              value={rating}\n              name=\"simple-controlled\"\n              readOnly\n              precision={0.5}\n            />\n            {imgCard()}\n\n            <CardContent\n              style={{\n                maxHeight: windowCheck < 1024 ? \"100%\" : \"200px\",\n                overflow: \"hidden\",\n              }}\n            >\n              <Typography\n                gutterBottom\n                variant=\"h5\"\n                component={\"h2\"}\n                style={{\n                  fontFamily: \"Exo 2\",\n                  height: windowCheck < 1024 ? \"100%\" : \"50px\",\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  whiteSpace: \"nowrap\",\n                  fontSize: windowCheck < 1024 ? \"12px\" : \"\",\n\n                  marginTop: \"25px\",\n                }}\n              >\n                {product.name},{product.color}\n              </Typography>{\" \"}\n              <Typography\n                gutterBottom\n                variant=\"h6\"\n                component=\"h2\"\n                className={classes.price}\n              >\n                {product.price}€\n              </Typography>\n            </CardContent>\n          </Link>\n        </CardActionArea>\n\n        <CardActions className={classes.btncontainer}>\n          {disable ? (\n            <IconButton className={classes.inCart} disabled>\n              <ShoppingCartIcon style={{ color: \"grey\" }} />\n            </IconButton>\n          ) : (\n            <IconButton className={classes.addToCart} onClick={addToCart}>\n              <AddShoppingCartIcon />\n            </IconButton>\n          )}\n        </CardActions>\n      </Card>\n      <DialogWindow open={open} handleClose={handleClose} product={product} />\n    </Paper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}