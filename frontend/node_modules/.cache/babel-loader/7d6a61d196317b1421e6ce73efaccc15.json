{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kesav\\\\Downloads\\\\TheShoeShop-main\\\\TheShoeShop-main\\\\frontend\\\\src\\\\components\\\\User\\\\ChangePassword.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Button, TextField } from \"@material-ui/core/\";\nconst headers = {\n  \"Content-Type\": \"application/json\"\n};\n\nconst ChangePassword = () => {\n  _s();\n\n  const [password, setPassword] = useState(\"\");\n  const [passwordTwo, setPasswordTwo] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [succs, setSuccs] = useState(null);\n  const location = useParams();\n\n  const handleOnChange = e => {\n    setPassword(e.target.value);\n  };\n\n  const confirmPassword = e => {\n    setPasswordTwo(e.target.value);\n  };\n\n  const changePassword = e => {\n    e.preventDefault();\n\n    if (password !== passwordTwo) {\n      setError(\"Passwords does not match!\");\n    } else {\n      axios.put(` https://lit-thicket-99427.herokuapp.com/api/user/resetpassword/`, {\n        newPassword: password,\n        resetLink: location.id\n      }, {\n        headers: headers\n      }).then(res => {\n        if (res.status === 400) {\n          console.log(\"err\");\n        } else {\n          console.log(res);\n          setSuccs(res.data);\n          setPassword(\"\");\n          setPasswordTwo(\"\");\n          setError(null);\n        }\n      }).catch(error => {\n        setError(error.response.request.response);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: changePassword,\n    style: {\n      width: \"300px\",\n      margin: \"0 auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      autoFocus: true,\n      margin: \"dense\",\n      id: \"password\",\n      name: \"password\",\n      label: \"Password\",\n      type: \"password\",\n      fullWidth: true,\n      onChange: handleOnChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      autoFocus: true,\n      margin: \"dense\",\n      id: \"passwordTwo\",\n      name: \"passwordTwo\",\n      label: \"Confirm password\",\n      type: \"password\",\n      fullWidth: true,\n      onChange: confirmPassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      color: \"secondary\",\n      variant: \"outlined\",\n      children: \"Change password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this), succs && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"green\"\n      },\n      children: [succs, /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Log in \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 20\n        }, this), \" with the new password\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChangePassword, \"MvmOdLFSQPMaAP47RbhNiy6Ue80=\", false, function () {\n  return [useParams];\n});\n\n_c = ChangePassword;\nexport default ChangePassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"sources":["C:/Users/kesav/Downloads/TheShoeShop-main/TheShoeShop-main/frontend/src/components/User/ChangePassword.js"],"names":["React","useState","axios","Link","useParams","Button","TextField","headers","ChangePassword","password","setPassword","passwordTwo","setPasswordTwo","error","setError","succs","setSuccs","location","handleOnChange","e","target","value","confirmPassword","changePassword","preventDefault","put","newPassword","resetLink","id","then","res","status","console","log","data","catch","response","request","width","margin","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Button, TextField } from \"@material-ui/core/\";\nconst headers = {\n  \"Content-Type\": \"application/json\",\n};\nconst ChangePassword = () => {\n  const [password, setPassword] = useState(\"\");\n  const [passwordTwo, setPasswordTwo] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [succs, setSuccs] = useState(null);\n\n  const location = useParams();\n  const handleOnChange = (e) => {\n    setPassword(e.target.value);\n  };\n  const confirmPassword = (e) => {\n    setPasswordTwo(e.target.value);\n  };\n\n  const changePassword = (e) => {\n    e.preventDefault();\n    if (password !== passwordTwo) {\n      setError(\"Passwords does not match!\");\n    } else {\n      axios\n        .put(\n          ` https://lit-thicket-99427.herokuapp.com/api/user/resetpassword/`,\n          { newPassword: password, resetLink: location.id },\n          { headers: headers }\n        )\n\n        .then((res) => {\n          if (res.status === 400) {\n            console.log(\"err\");\n          } else {\n            console.log(res);\n            setSuccs(res.data);\n            setPassword(\"\");\n            setPasswordTwo(\"\");\n            setError(null);\n          }\n        })\n        .catch((error) => {\n          setError(error.response.request.response);\n        });\n    }\n  };\n  return (\n    <form\n      onSubmit={changePassword}\n      style={{ width: \"300px\", margin: \"0 auto\" }}\n    >\n      <TextField\n        autoFocus\n        margin=\"dense\"\n        id=\"password\"\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        fullWidth\n        onChange={handleOnChange}\n      />\n      <TextField\n        autoFocus\n        margin=\"dense\"\n        id=\"passwordTwo\"\n        name=\"passwordTwo\"\n        label=\"Confirm password\"\n        type=\"password\"\n        fullWidth\n        onChange={confirmPassword}\n      />\n      <Button type=\"submit\" color=\"secondary\" variant=\"outlined\">\n        Change password\n      </Button>\n      {error && <div style={{ color: \"red\" }}>{error}</div>}\n      {succs && (\n        <div style={{ color: \"green\" }}>\n          {succs}\n          <p>\n            Please <Link to=\"/login\">Log in </Link> with the new password\n          </p>\n        </div>\n      )}\n    </form>\n  );\n};\n\nexport default ChangePassword;\n"]},"metadata":{},"sourceType":"module"}